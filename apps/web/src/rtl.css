/* apps/web/src/rtl.css */

/* RTL 基础样式 */
[dir="rtl"] {
  text-align: right;
}

[dir="ltr"] {
  text-align: left;
}

/* RTL 模式下的阴影调整 */
[dir="rtl"] .shadow,
[dir="rtl"] .shadow-2xs,
[dir="rtl"] .shadow-sm,
[dir="rtl"] .shadow-md,
[dir="rtl"] .shadow-lg {
  box-shadow: -1px 1px 3px 0 rgb(0 0 0 / 0.1), -1px 1px 2px -1px rgb(0 0 0 / 0.1);
}

/* RTL 模式下的特殊间距处理 */
[dir="rtl"] .space-x-3 > * + * {
  margin-right: 0.75rem;
  margin-left: 0;
}

[dir="rtl"] .space-x-reverse > * + * {
  margin-right: 0.75rem;
  margin-left: 0;
}

[dir="rtl"] .space-x-2 > * + * {
  margin-right: 0.5rem;
  margin-left: 0;
}

/* Header 组件的 RTL 支持 */
[dir="rtl"] .header .flex {
  flex-direction: row-reverse;
}

[dir="rtl"] .header .justify-between {
  justify-content: space-between;
  flex-direction: row-reverse;
}

[dir="rtl"] .header .items-center {
  align-items: center;
}

/* Logo 和标题区域 */
[dir="rtl"] .header .min-w-24 {
  flex-direction: row-reverse;
}

[dir="rtl"] .header img {
  margin-right: 0;
  margin-left: 0.5rem;
}

/* 标签容器的 RTL 支持 */
[dir="rtl"] .tab-container {
  direction: rtl;
}

[dir="rtl"] .tab-container .flex {
  flex-direction: row-reverse;
}

/* 移动端菜单按钮 */
[dir="rtl"] .mobile-menu-button-container {
  margin-left: 0;
  margin-right: 0.5rem;
}

/* 移动端菜单位置 */
[dir="rtl"] .mobile-menu-container {
  right: auto;
  left: 1rem;
}

/* Footer 的 RTL 支持 */
[dir="rtl"] .footer .flex {
  flex-direction: row-reverse;
}

/* 主要内容区域的 RTL 支持 */
[dir="rtl"] .main-container {
  direction: rtl;
}

/* Grid 布局的 RTL 支持 */
[dir="rtl"] .grid-cols-1,
[dir="rtl"] .grid-cols-2 {
  direction: rtl;
}

/* Flex 布局的通用 RTL 支持 - 更精确的选择器 */
[dir="rtl"] .flex:not(.flex-col):not(.flex-col-reverse):not(.items-center) {
  flex-direction: row-reverse;
}

/* 确保某些 flex 元素不被反转 */
[dir="rtl"] .flex.flex-col,
[dir="rtl"] .flex.flex-col-reverse {
  flex-direction: column;
}

[dir="rtl"] .flex.items-center.gap-2,
[dir="rtl"] .flex.items-center.gap-3 {
  flex-direction: row-reverse;
}

/* 按钮组的 RTL 支持 */
[dir="rtl"] .flex.gap-2:has(button),
[dir="rtl"] .flex.gap-3:has(button) {
  flex-direction: row-reverse;
}

/* 控制面板的 RTL 支持 */
[dir="rtl"] .flex.items-end.gap-3,
[dir="rtl"] .flex.items-end.gap-4 {
  flex-direction: row-reverse;
}

[dir="rtl"] .flex.justify-end {
  justify-content: flex-start;
}

[dir="rtl"] .flex.justify-start {
  justify-content: flex-end;
}

[dir="rtl"] .flex.justify-between {
  justify-content: space-between;
  flex-direction: row-reverse;
}

/* 表单元素的 RTL 支持 */
[dir="rtl"] input[type="text"],
[dir="rtl"] input[type="email"],
[dir="rtl"] input[type="password"],
[dir="rtl"] input[type="search"],
[dir="rtl"] textarea,
[dir="rtl"] select {
  text-align: right;
  direction: rtl;
}

[dir="rtl"] .input-textarea,
[dir="rtl"] .autoscroll-content {
  text-align: right;
  direction: rtl;
}

/* 下拉菜单的 RTL 支持 */
[dir="rtl"] .dropdown-menu {
  right: 0;
  left: auto;
}

[dir="ltr"] .dropdown-menu {
  left: 0;
  right: auto;
}

/* 版本标签的 RTL 支持 */
[dir="rtl"] .version-tag-active,
[dir="rtl"] .version-tag-inactive {
  direction: ltr;
}

/* 版本容器的滚动 */
[dir="rtl"] .overflow-x-auto {
  direction: rtl;
}

/* 字符计数器的对齐 */
[dir="rtl"] .input-charactor-counter {
  text-align: left;
}

/* 对话框和模态框的 RTL 支持 */
[dir="rtl"] .modal,
[dir="rtl"] .dialog {
  text-align: right;
}

[dir="rtl"] .modal-header,
[dir="rtl"] .dialog-header {
  text-align: right;
}

[dir="rtl"] .modal .flex.justify-end,
[dir="rtl"] .dialog .flex.justify-end {
  justify-content: flex-start;
  flex-direction: row-reverse;
}

/* 列表卡片的 RTL 支持 */
[dir="rtl"] .listcard-container {
  text-align: right;
}

[dir="rtl"] .listcard-container .flex {
  flex-direction: row-reverse;
}

[dir="rtl"] .listcard-title,
[dir="rtl"] .listcard-description {
  text-align: right;
}

/* 历史记录组件的特殊处理 */
[dir="rtl"] .space-y-2,
[dir="rtl"] .space-y-3,
[dir="rtl"] .space-y-4 {
  direction: rtl;
}

/* Tooltip 的 RTL 支持 */
[dir="rtl"] .tooltip {
  text-align: right;
}

/* 侧边栏和抽屉的 RTL 支持 */
[dir="rtl"] .sidebar {
  right: 0;
  left: auto;
}

[dir="ltr"] .sidebar {
  left: 0;
  right: auto;
}

[dir="rtl"] .drawer-content-container {
  text-align: right;
}

/* 面包屑导航的 RTL 支持 */
[dir="rtl"] .breadcrumb {
  direction: rtl;
}

[dir="rtl"] .breadcrumb-item + .breadcrumb-item::before {
  content: "\\";
  transform: scaleX(-1);
}

/* 进度条的 RTL 支持 */
[dir="rtl"] .progress-bar {
  direction: rtl;
}

/* 图标的 RTL 调整 */
[dir="rtl"] .icon-arrow-right {
  transform: scaleX(-1);
}

[dir="rtl"] .icon-arrow-left {
  transform: scaleX(-1);
}

/* 通知和警告的 RTL 支持 */
[dir="rtl"] .alert,
[dir="rtl"] .notification {
  text-align: right;
}

/* 代码块保持 LTR */
[dir="rtl"] pre,
[dir="rtl"] code {
  direction: ltr;
  text-align: left;
}

/* 强制某些元素保持 LTR */
[dir="rtl"] .keep-ltr {
  direction: ltr;
  text-align: left;
}

/* 数字和日期保持 LTR */
[dir="rtl"] .number,
[dir="rtl"] .date,
[dir="rtl"] .time {
  direction: ltr;
  display: inline-block;
}

/* 搜索框图标位置调整 */
[dir="rtl"] .search-icon {
  right: auto;
  left: 0.75rem;
}

[dir="ltr"] .search-icon {
  left: auto;
  right: 0.75rem;
}

/* 特定组件的边距调整 */
[dir="rtl"] .mr-2 {
  margin-right: 0;
  margin-left: 0.5rem;
}

[dir="rtl"] .mr-4 {
  margin-right: 0;
  margin-left: 1rem;
}

[dir="rtl"] .ml-2 {
  margin-left: 0;
  margin-right: 0.5rem;
}

[dir="rtl"] .ml-4 {
  margin-left: 0;
  margin-right: 1rem;
}

/* Padding 的 RTL 调整 */
[dir="rtl"] .pr-2 {
  padding-right: 0;
  padding-left: 0.5rem;
}

[dir="rtl"] .pr-3 {
  padding-right: 0;
  padding-left: 0.75rem;
}

[dir="rtl"] .pl-2 {
  padding-left: 0;
  padding-right: 0.5rem;
}

[dir="rtl"] .pl-3 {
  padding-left: 0;
  padding-right: 0.75rem;
}

[dir="rtl"] .pl-5 {
  padding-left: 0;
  padding-right: 1.25rem;
}

/* 文本对齐的调整 */
[dir="rtl"] .text-left {
  text-align: right;
}

[dir="rtl"] .text-right {
  text-align: left;
}

/* 绝对定位元素的 RTL 调整 */
[dir="rtl"] .absolute.right-0 {
  right: auto;
  left: 0;
}

[dir="rtl"] .absolute.left-0 {
  left: auto;
  right: 0;
}

[dir="rtl"] .absolute.right-4 {
  right: auto;
  left: 1rem;
}

[dir="rtl"] .absolute.left-4 {
  left: auto;
  right: 1rem;
}

/* 固定定位元素的 RTL 调整 */
[dir="rtl"] .fixed.right-0 {
  right: auto;
  left: 0;
}

[dir="rtl"] .fixed.left-0 {
  left: auto;
  right: 0;
}

/* 边框的 RTL 调整 */
[dir="rtl"] .border-l {
  border-left: none;
  border-right: 1px solid;
}

[dir="rtl"] .border-r {
  border-right: none;
  border-left: 1px solid;
}

/* 圆角的 RTL 调整 */
[dir="rtl"] .rounded-l {
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;
  border-top-right-radius: 0.25rem;
  border-bottom-right-radius: 0.25rem;
}

[dir="rtl"] .rounded-r {
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;
  border-top-left-radius: 0.25rem;
  border-bottom-left-radius: 0.25rem;
}

/* 特殊容器的处理 */
[dir="rtl"] .secondary-container {
  direction: rtl;
}

[dir="rtl"] .title-secondary {
  text-align: right;
}

/* 确保输入描述文本右对齐 */
[dir="rtl"] .input-description,
[dir="rtl"] .input-label {
  text-align: right;
}

/* 按钮内图标和文本的排列 */
[dir="rtl"] button .flex.items-center.gap-1,
[dir="rtl"] button .flex.items-center.gap-2 {
  flex-direction: row-reverse;
}

/* 最小宽度在 RTL 下的处理 */
[dir="rtl"] .min-w-24,
[dir="rtl"] .min-w-0 {
  direction: rtl;
}

/* 确保特定的滚动容器正确显示 */
[dir="rtl"] .overflow-y-auto,
[dir="rtl"] .overflow-y-scroll {
  direction: rtl;
}

/* 网格布局的列反转 */
[dir="rtl"] .md\\:grid-cols-2 > * {
  direction: rtl;
}

/* 处理浮动元素 */
[dir="rtl"] .float-left {
  float: right;
}

[dir="rtl"] .float-right {
  float: left;
}

/* 处理清除浮动 */
[dir="rtl"] .clear-left {
  clear: right;
}

[dir="rtl"] .clear-right {
  clear: left;
}

/* UI 组件的 RTL 支持 */

/* AutoScrollContent 组件 */
[dir="rtl"] .autoscroll-content {
  text-align: right;
  direction: rtl;
}

[dir="rtl"] .autoscroll-content .absolute.top-2.right-2 {
  right: auto;
  left: 0.5rem;
}

[dir="rtl"] .autoscroll-content .absolute.bottom-4.left-1\/2 {
  left: auto;
  right: 50%;
  transform: translateX(50%);
}

/* Dialog 组件 */
[dir="rtl"] .dialog {
  text-align: right;
}

[dir="rtl"] .dialog .flex.justify-between {
  flex-direction: row-reverse;
}

[dir="rtl"] .dialog-title {
  text-align: right;
}

[dir="rtl"] .dialog-close-button {
  order: -1;
}

/* EnhancedDropdown 组件 */
[dir="rtl"] .dropdown-menu {
  text-align: right;
}

[dir="rtl"] .input-dropdown-button {
  flex-direction: row-reverse;
}

[dir="rtl"] .input-dropdown-button .px-3 {
  text-align: right;
}

[dir="rtl"] .input-select-button {
  left: 0;
  right: auto;
}

/* DraggableNotice 组件 */
[dir="rtl"] .dragable-notice-container {
  right: auto;
  left: 80px;
  text-align: right;
}

[dir="rtl"] .dragable-notice-header {
  flex-direction: row-reverse;
}

[dir="rtl"] .dragable-notice-content {
  text-align: right;
}

[dir="rtl"] .dragable-notice-content .flex {
  flex-direction: row-reverse;
}

/* AutoScrollTextarea 组件 */
[dir="rtl"] .autoscroll-textarea {
  text-align: right;
  direction: rtl;
}

[dir="rtl"] .autoscroll-textarea .absolute.top-2.right-2 {
  right: auto;
  left: 0.5rem;
}

[dir="rtl"] .autoscroll-textarea .absolute.bottom-4.left-1\/2 {
  left: auto;
  right: 50%;
  transform: translateX(50%);
}

/* Toaster 组件 */
[dir="rtl"] .toaster {
  right: auto;
  left: 1rem;
}

/* ThemeSwitcher 组件 */
[dir="rtl"] .theme-container {
  flex-direction: row-reverse;
}

[dir="rtl"] .theme-dropdown-container {
  right: 0;
  left: auto;
}

/* Markdown 组件 */
[dir="rtl"] .markdown-content {
  text-align: right;
  direction: rtl;
}

[dir="rtl"] .markdown-content ul,
[dir="rtl"] .markdown-content ol {
  padding-right: 2rem;
  padding-left: 0;
}

[dir="rtl"] .markdown-content blockquote {
  border-right: 4px solid;
  border-left: none;
  padding-right: 1rem;
  padding-left: 1rem;
}

[dir="rtl"] .markdown-content .think-block {
  text-align: right;
}

[dir="rtl"] .markdown-content .think-header {
  flex-direction: row-reverse;
}

[dir="rtl"] .markdown-content code,
[dir="rtl"] .markdown-content pre {
  direction: ltr;
  text-align: left;
}

[dir="rtl"] .markdown-code-lang-tag {
  right: auto;
  left: 0;
}

/* ListCard 组件 */
[dir="rtl"] .listcard-container .flex {
  flex-direction: row-reverse;
}

[dir="rtl"] .listcard-container .grow {
  padding-right: 0;
  padding-left: 1rem;
}

[dir="rtl"] .listcard-title,
[dir="rtl"] .listcard-description {
  text-align: right;
}

/* ListCard 的按钮区域在 RTL 模式下应该在左边 */
[dir="rtl"] .listcard-container > .flex > .grow {
  order: 2;
  padding-left: 0;
  padding-right: 1rem;
}

/* 按钮区域在左边 */
[dir="rtl"] .listcard-container > .flex > div:not(.grow) {
  order: 1;
}

/* 历史记录页面的 ListCard 特殊处理 */
[dir="rtl"] .listcard-container .flex.justify-between {
  flex-direction: row-reverse;
}

[dir="rtl"] .listcard-container .flex.space-x-2 {
  flex-direction: row-reverse;
  gap: 0.5rem;
}

[dir="rtl"] .listcard-container .flex.space-x-2 > * + * {
  margin-left: 0;
  margin-right: 0;
}

/* 历史记录中的按钮组 */
[dir="rtl"] .listcard-container .flex.items-center:has(button) {
  flex-direction: row-reverse;
}

/* 历史记录的时间戳和版本标签 */
[dir="rtl"] .listcard-container .flex.items-center.gap-2 {
  flex-direction: row-reverse;
}

/* 历史记录的版本选择按钮组 */
[dir="rtl"] .listcard-container .flex.space-x-2.overflow-y-visible {
  flex-direction: row-reverse;
  direction: rtl;
}

[dir="rtl"] .listcard-container .space-x-2 > * {
  margin-left: 0;
  margin-right: 0.5rem;
}

[dir="rtl"] .listcard-container .space-x-2 > *:first-child {
  margin-right: 0;
}

/* 历史记录的提示词容器 */
[dir="rtl"] .listcard-prompt-container {
  text-align: right;
  direction: rtl;
}

[dir="rtl"] .iteration-prompt-container {
  text-align: right;
  direction: rtl;
}

/* LanguageSwitcher 组件 */
[dir="rtl"] .lang-button {
  direction: ltr; /* 语言标志保持原方向 */
}

/* EnhancedTextarea 组件 */
[dir="rtl"] .input-textarea {
  text-align: right;
  direction: rtl;
}

[dir="rtl"] .input-textarea ~ .absolute.top-2.right-2 {
  right: auto;
  left: 0.5rem;
}

/* ModelSelector 组件 */
[dir="rtl"] .dropdown-item-active,
[dir="rtl"] .dropdown-item-inactive {
  text-align: right;
}

[dir="rtl"] .dropdown-item-active-title,
[dir="rtl"] .dropdown-item-inactive-title {
  text-align: right;
}

[dir="rtl"] .dropdown-item-active-description,
[dir="rtl"] .dropdown-item-inactive-description {
  text-align: right;
}

/* Tooltip 组件 */
[dir="rtl"] .tooltip {
  text-align: right;
}
[dir="rtl"] [role="tooltip"] .border-l,
[dir="rtl"] [role="tooltip"] .border-r,
[dir="rtl"] [role="tooltip"] .border-t,
[dir="rtl"] [role="tooltip"] .border-b {
  border-color: inherit !important;
}
[dir="rtl"] .tooltip-arrow {
  transform: scaleX(-1) rotate(-45deg) !important;
}

/* 特殊的绝对定位元素调整 */
[dir="rtl"] .absolute.right-2 {
  right: auto;
  left: 0.5rem;
}

[dir="rtl"] .absolute.right-4 {
  right: auto;
  left: 1rem;
}

[dir="rtl"] .absolute.left-2 {
  left: auto;
  right: 0.5rem;
}

[dir="rtl"] .absolute.left-4 {
  left: auto;
  right: 1rem;
}

/* Transform 调整 */
[dir="rtl"] .translate-x-1\/2 {
  transform: translateX(-50%);
}

[dir="rtl"] .-translate-x-1\/2 {
  transform: translateX(50%);
}

/* 复制按钮的特殊处理 */
[dir="rtl"] .input-copy-button {
  right: auto;
  left: 0.5rem;
}

/* 下拉菜单箭头图标 */
[dir="rtl"] .input-select-button {
  left: 0;
  right: auto;
}

/* 确保某些图标保持原方向，但移除空规则 */

/* 特定需要翻转的图标 */
[dir="rtl"] .icon-chevron-left,
[dir="rtl"] .icon-arrow-left {
  transform: scaleX(-1);
}

[dir="rtl"] .icon-chevron-right,
[dir="rtl"] .icon-arrow-right {
  transform: scaleX(-1);
}

/* 处理 gap 间距 - 在RTL模式下gap本身不需要调整 */

/* 处理 justify-content */
[dir="rtl"] .justify-center {
  justify-content: center; /* 居中不需要改变 */
}

/* 处理复杂的定位 */
[dir="rtl"] .fixed.top-right {
  right: auto;
  left: 1rem;
}

[dir="rtl"] .fixed.bottom-right {
  right: auto;
  left: 1rem;
}

[dir="rtl"] .fixed.top-left {
  left: auto;
  right: 1rem;
}

[dir="rtl"] .fixed.bottom-left {
  left: auto;
  right: 1rem;
}

/* 处理表格的 RTL */
[dir="rtl"] table {
  direction: rtl;
}

[dir="rtl"] th,
[dir="rtl"] td {
  text-align: right;
}

[dir="rtl"] th:first-child,
[dir="rtl"] td:first-child {
  text-align: right;
}

/* 处理列表的 RTL */
[dir="rtl"] ul,
[dir="rtl"] ol {
  padding-right: 1.5rem;
  padding-left: 0;
}

[dir="rtl"] li {
  text-align: right;
}

/* 处理代码和预格式化文本 */
[dir="rtl"] pre,
[dir="rtl"] code,
[dir="rtl"] .font-mono {
  direction: ltr;
  text-align: left;
}

/* 处理链接 - 链接文本方向跟随父元素，无需特别设置 */

/* 输入框内的占位符 */
[dir="rtl"] input::placeholder,
[dir="rtl"] textarea::placeholder {
  text-align: right;
}

/* 确保数字输入框保持 LTR */
[dir="rtl"] input[type="number"] {
  direction: ltr;
  text-align: left;
}

/* 处理选择框 */
[dir="rtl"] select {
  text-align: right;
  direction: rtl;
}

[dir="rtl"] option {
  text-align: right;
  direction: rtl;
}